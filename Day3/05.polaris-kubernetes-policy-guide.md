# 🚦 Polaris - Kubernetes Policy Validation & Dashboard

**Polaris** is an open-source policy engine by [Fairwinds](https://www.fairwinds.com/) that validates Kubernetes YAML files and live clusters against security and configuration best practices.  
It offers two modes:

- **CLI-based auditing and fixing** of YAML files
- **Web dashboard** (via Helm) for real-time cluster analysis

---

## 🖥️ Polaris CLI (Run on Manager/Workstation)

Use this to scan YAML files **before applying them** to your cluster.

---

### ✅ Step 1: Install Homebrew (Linux)

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
(echo; echo 'eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"') >> ~/.bashrc
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
````

---

### ✅ Step 2: Install Build Tools (if not already present)

```bash
sudo apt-get install build-essential
source .bashrc
```

---

### ✅ Step 3: Install Polaris CLI via Brew

```bash
brew install FairwindsOps/tap/polaris
```

---

### 🚀 Step 4: Run Polaris

```bash
polaris version
polaris audit --audit-path /path-to-k8s-yaml-files/ --format=pretty
polaris fix --files-path /path-to-k8s-yaml-files/ --checks=all
```

* `audit`: Scans files and displays a report
* `fix`: Attempts to automatically fix known misconfigurations

---

## 🌐 Polaris Dashboard (Run inside the cluster)

Use this to visualize and continuously monitor your cluster’s resource health.

---

### 🔧 Step 1: Install Helm

```bash
curl https://baltocdn.com/helm/signing.asc | sudo apt-key add -
sudo apt-get install apt-transport-https --yes
echo "deb https://baltocdn.com/helm/stable/debian/ all main" | sudo tee /etc/apt/sources.list.d/helm-stable-debian.list
sudo apt-get update
sudo apt-get install helm
```

---

### 📦 Step 2: Add Polaris Helm Chart

```bash
helm repo add fairwinds-stable https://charts.fairwinds.com/stable
```

---

### 🚀 Step 3: Deploy Polaris into a Namespace

```bash
helm upgrade --install polaris fairwinds-stable/polaris --namespace demo --create-namespace
```

---

### ⏳ Step 4: Check Pod & Service Status

```bash
kubectl -n demo get pods
kubectl -n demo get svc
```

Wait until the Polaris dashboard pod is in `Running` state.

---

### 🌐 Step 5: Port Forward Polaris Dashboard

```bash
kubectl port-forward --namespace demo svc/polaris-dashboard 8080:80
```

---

### 🔎 Step 6: Access Polaris Dashboard

Open your browser and go to:

```
https://localhost:8080
```

---

## 📌 Summary

| Feature          | Command                                       |
| ---------------- | --------------------------------------------- |
| CLI Audit        | `polaris audit --audit-path <path>`           |
| CLI Fix          | `polaris fix --files-path <path>`             |
| Dashboard Access | `https://localhost:8080` (after port forward) |

Polaris helps maintain consistent and secure configurations across your Kubernetes environment, both statically and in real time. 🛡️


